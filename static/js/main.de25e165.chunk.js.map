{"version":3,"sources":["componets/Header/Header.js","componets/Album/Album.js","componets/Albums/Albums.js","componets/Gallery/Gallery.js","componets/Photo/Photo.js","componets/Photos/Photos.js","componets/PhotoPopup/PhotoPopup.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","Album","props","album","buttonOpenAlbum","photos","history","useHistory","img","thumbnailUrl","onClick","push","window","scrollTo","src","alt","title","length","Albums","albums","map","filter","photo","albumId","id","Gallery","users","user","username","userId","Photo","photoClick","url","Photos","albumName","to","PhotoPopup","isOpen","link","name","onClose","next","ext","type","App","useState","setUsers","setAlbums","setAlbumName","setPhotos","photosInAlbum","setPhotosInAlbum","open","popupPhoto","setPopupPhoto","loader","setLoader","useEffect","Promise","all","fetch","then","a","aa","bb","cc","json","b","c","path","exact","photosMy","card","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.de25e165.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header() {\r\n    return (\r\n        <div className=\"header\">\r\n            <h1 className=\"header__name\" >Photo gallery</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Album(props) {\r\n    const {\r\n        album,\r\n        buttonOpenAlbum,\r\n        photos\r\n    } = props;\r\n    const history = useHistory();\r\n    function openAlbum() {\r\n        buttonOpenAlbum(album);\r\n        history.push('/photos')\r\n        window.scrollTo(0, 0);\r\n\r\n    }\r\n    const img = photos[0].thumbnailUrl;\r\n    return (\r\n        <div className='album' onClick={openAlbum}>\r\n            <img className='album__img' src={`${img}`} alt='zz' />\r\n            <p className=\"album__name\">{album.title}</p>\r\n            <p className=\"album__name\">Count: {photos.length}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Album;","import React from 'react';\r\nimport Album from '../Album/Album';\r\n\r\nfunction Albums(props) {\r\n    const {\r\n        albums,\r\n        buttonOpenAlbum,\r\n        photos\r\n    } = props;\r\n    return (\r\n        <div className=\"albums\">\r\n            {albums.map((album) => {\r\n                return (\r\n                    <Album album={album} buttonOpenAlbum={buttonOpenAlbum} photos={photos.filter((photo) => photo.albumId === album.id)} key={album.id}/>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Albums;","import React from 'react';\r\nimport Albums from '../Albums/Albums';\r\n\r\nfunction Gallery(props) {\r\n    const {\r\n        users,\r\n        albums,\r\n        buttonOpenAlbum,\r\n        photos\r\n    } = props;\r\n    return (\r\n        <div>\r\n            {users.map(user => {\r\n                return (\r\n                    <div key={user.id} className=\"gallery\">\r\n                        <h1 className=\"gallery__author\">This albums username \"{user.username}\"</h1>\r\n                        <Albums  albums={albums.filter((album) =>\r\n                            album.userId === user.id)} buttonOpenAlbum={buttonOpenAlbum} photos={photos} />\r\n                    </div>\r\n                )\r\n            }\r\n            )}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Gallery;","import React from 'react'\r\n\r\nfunction Photo(props) {\r\n    const {\r\n        photo,\r\n        photoClick\r\n    } = props;\r\n\r\n    function handleClick() {\r\n        photoClick(photo);\r\n    }\r\n\r\n    return(\r\n        <div className=\"photo\">\r\n            <img src={photo.url} alt={photo.title} onClick={handleClick}></img>\r\n            {/* <p>{photo.title}</p> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Photo;\r\n","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Photo from '../Photo/Photo';\r\n\r\n\r\nfunction Photos(props) {\r\n    const {\r\n        photos,\r\n        photoClick,\r\n        albumName\r\n    } = props;\r\n\r\n    const history = useHistory();\r\n    if (photos === null) {\r\n        return (\r\n            <>\r\n                {history.push('/')}\r\n            </>\r\n        )\r\n    } else if (photos.length === 0) {\r\n        return (\r\n            <div className='photos'>\r\n                <div className='photos__go-back'>\r\n                    <Link to='/' className='photos__go-back'>&#8592; Go back to the main page</Link>\r\n                </div>\r\n                <p className='photos__name-album'> No fhotos in album \"{albumName}\"</p>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className='photos'>\r\n                <div className='photos__go-back'>\r\n                    <Link to='/' className='photos__go-back'>&#8592; Go back to the main page</Link>\r\n                </div>\r\n                <p className='photos__name-album'> Fhotos in album \"{albumName}\"</p>\r\n                <div className=\"photos__block\">\r\n                    {photos.map((photo) => {\r\n                        return (\r\n                            <Photo photo={photo} photoClick={photoClick} key={photo.id} />\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Photos;","import React from 'react';\r\n\r\nfunction PhotoPopup(props) {\r\n\r\n  const {\r\n    isOpen,\r\n    link,\r\n    name,\r\n    onClose,\r\n    next,\r\n    ext\r\n  } = props;\r\n\r\n  return (\r\n    <div className={`popup  ${isOpen && 'popup_opened'}`}>\r\n      <figure className=\"popup__photo\">\r\n        <div className=\"popup__conteiner\">\r\n          <button className=\"popup__ext\" onClick={ext}></button>\r\n          <button className=\"popup__close popup__close_type_photo\" type=\"button\" onClick={onClose}></button>\r\n          <img className=\"popup__photo-image\" src={link} alt={name} />\r\n          <figcaption className=\"popup__photo-name\">{name}</figcaption>\r\n          <button className=\"popup__next\" onClick={next}></button>\r\n        </div>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PhotoPopup;","import React, { useEffect, useState } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport Header from './componets/Header/Header';\nimport Gallery from './componets/Gallery/Gallery';\nimport Photos from './componets/Photos/Photos';\nimport PhotoPopup from './componets/PhotoPopup/PhotoPopup';\n\nimport './App.css';\n\nfunction App() {\n  const [users, setUsers] = useState(['']);\n  const [albums, setAlbums] = useState(['']);\n  const [albumName, setAlbumName] = useState('');\n\n  const [photos, setPhotos] = useState(['']);\n  const [photosInAlbum, setPhotosInAlbum] = useState(null);\n  // const [photo, setPhoto] = useState(['']);\n  const [popupPhoto, setPopupPhoto] = useState({\n    open: false,\n    link: '',\n    name: '',\n    id: ''\n  })\n  const [loader, setLoader] = useState(false);\n  useEffect(() => {\n    Promise.all([\n      fetch('https://jsonplaceholder.typicode.com/photos'),\n      fetch('https://jsonplaceholder.typicode.com/users'),\n      fetch('https://jsonplaceholder.typicode.com/albums')\n    ])\n      .then(async ([aa, bb, cc]) => {\n        const a = await aa.json();\n        const b = await bb.json();\n        const c = await cc.json();\n        return [a, b, c]\n      })\n      .then(([photos, users, albums]) => {\n        setUsers(users);\n        setAlbums(albums);\n        setPhotos(photos);\n        setLoader(true)\n      })\n\n  }, []\n  )\n\n  function handleAlbumClick(album) {\n    setAlbumName(album.title)\n    setPhotosInAlbum(photos.filter((photosMy) => photosMy.albumId === album.id))\n  }\n  function handlePhotoClick(card) {\n    const { url, title, id } = card;\n    setPopupPhoto({\n      open: true,\n      link: url,\n      name: title,\n      id: id\n    });\n  }\n\n  function handleClosePopup() {\n    setPopupPhoto({\n      open: false,\n      link: '',\n      name: '',\n      id: ''\n    })\n  }\n\n  function handleNextFhoto() {\n    if (popupPhoto.id === photosInAlbum[photosInAlbum.length - 1].id) {\n      const nextPhotoId = 0;\n      const { url, title, id } = photosInAlbum[nextPhotoId]\n      setPopupPhoto({\n        open: true,\n        link: url,\n        name: title,\n        id: id\n      });\n    } else {\n      const nextPhotoId = photosInAlbum.filter((photo) => popupPhoto.id + 1 === photo.id);\n      const { url, title, id } = nextPhotoId[0]\n      setPopupPhoto({\n        open: true,\n        link: url,\n        name: title,\n        id: id\n      });\n    }\n\n  }\n\n  function handleExtFhoto() {\n    if (popupPhoto.id === photosInAlbum[0].id) {\n      const extPhotoId = photosInAlbum.filter((photo) => photo.id === photosInAlbum[photosInAlbum.length - 1].id)\n      const { url, title, id } = extPhotoId[0]\n      setPopupPhoto({\n        open: true,\n        link: url,\n        name: title,\n        id: id\n      });\n    } else {\n      const nextPhotoId = photosInAlbum.filter((photo) => popupPhoto.id - 1 === photo.id);\n      const { url, title, id } = nextPhotoId[0]\n      setPopupPhoto({\n        open: true,\n        link: url,\n        name: title,\n        id: id\n      });\n    }\n\n  }\n\n  return (\n    <div className=\"root\">\n      <Header />\n      <Route path='/' exact>\n        {loader && <Gallery users={users} albums={albums} photos={photos} buttonOpenAlbum={handleAlbumClick} />}\n      </Route>\n      <Route path='/photos'>\n        <Photos photos={photosInAlbum} photoClick={handlePhotoClick} albumName={albumName}></Photos>\n      </Route>\n      <PhotoPopup\n        next={handleNextFhoto}\n        ext={handleExtFhoto}\n        isOpen={popupPhoto.open}\n        name={popupPhoto.name}\n        link={popupPhoto.link}\n        onClose={handleClosePopup}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}